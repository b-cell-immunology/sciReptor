# === Analysis Pipeline General Config File ===
#
# In general, this file contains <key>=<value> pairs that have to be compatible with bash. Therefore:
# - <key> has to be a valid BASH variable name, i.e. contain only alphanumeric characters and underscores, 
#   and must not begin with a number.
# - NO white space characters directly before or after the "=" of the <key>=<value> pair
# - Trailing semi-colons and white space characters will be removed from <value>
# - Lines starting with "#" will be considered comments
# - Enviroment variables and variables previously (!) defined in the config file will be expanded (SEE BELOW)
#
# However, this file is also parsed by other (non-bash) scripts, which results in the following limitations:
# - Usage of commands other than <key>=<value> pairs and comments IS NOT SUPPORTED
# - variable expansion requires variables to be written in "curly style" (e.g. ${HOME}). The "normal style" 
#   (e.g. $HOME) will not be expanded by the scripts, but might or might not by other programs, leading to
#   potentially unpredictable results.
#

# Set the general log level (0=fatal, 1=error, 2=warning, 3=info, 4=debug, 5=debug+)
log_level=3

# name of the project, will be used for repository structure and database scheme
# example: malaria, hiv, ....
database=

# database authentification
db_group_auth=mysql_igdb
db_host=curry-d130
db_port=3306

# human or mouse
#species=

# Matrix size [<columns>_<rows>]
#
# valid sizes: 48_48 and 240_256
matrix=

# tag batch [<species>_<isotypes>_<number>]
#
# valid batches as of 2015-01-01 (dimensions in parenthesis are only for information, DO NOT COPY THEM BELOW)
# human: Hs_G_001 (48x48), Hs_AEGM_001 (48x48)
# mouse: Mm_AGM_001 (48x48), Mm_AGM_002 (240x256) or Mm_ADGM_001 (48x48)
tag_batch=
tag_landing_zone=300

# routines to use for correction of tag positions: "none" (default), "D01_plateposition", "tag_batch" (required for Mm_AGM_002)
tag_correction=none

plate_layout=1
nrows_per_plate=16
ncols_per_plate=24

# IgBLAST settings

num_V=3
num_D=3
num_J=3
num_align_igblast=10
out_format_igblast=7

# BLAST settings
# not used ?
#mismatch_penalty=-1   # default = 3
#e_value=10            # default = 10
#word_size=7           # default = 11
#gap_open_cost=        # default = 5
#gap_extension_cost=1  # default = 2  
out_format_blast=6 
num_align_blast=1 

# consensus settings
n_consensus=5

# motif search
# The regular expressions in the config file are critical, there is no warning in case they are modified.
# They need to be compatible to perl regexp, but the config is also used as bash source. Pipes ("|") need to be escaped ("\").

# heavy
h_CDR3_e=WG.G
h_altCDR3_e1=.G.G
h_altCDR3_e2=W..G
h_altCDR3_e3=WG..
h_Jend=VS[S\|A]

# kappa
k_CDR3_e=FG.G
k_altCDR3_e1=.G.G
k_altCDR3_e2=F..G
k_altCDR3_e3=FG..
k_Jend=T[K\|R][L\|V][E\|D]IK

# lambda
l_CDR3_e=FG.G
l_altCDR3_e1=.G.G
l_altCDR3_e2=F..G
l_altCDR3_e3=FG..
l_Jend=[T\|I][V\|I\|A]L

# configuration of the database access
#library=igdb_library

# Configuration of databases used by the pipeline. Note that $IGDATA should point to the folder containing the
# "database", "internal_data" and "optional_file" folders, NOT to the "database" folder itself. The paths
# specified as "blastdb_segments_X" are relative to $IGDATA
#
#IGDATA=${HOME}/analysis_pipeline/igdata

# default settings for IGBLAST stock installation, automatic switch between species
blastdb_segments_V=database/${species}_gl_V
blastdb_segments_D=database/${species}_gl_D
blastdb_segments_J=database/${species}_gl_J
blastdb_segments_C=database/${species}_gl_C
blastdb_auxiliary=optional_file/${species}_gl.aux

## internal default settings for human
# blastdb_segments_V=database/human_gl_V
# blastdb_segments_D=database/human_gl_D
# blastdb_segments_J=database/human_gl_J
# blastdb_segments_C=database/hIGH-K-L_constant_exon1.fasta
# blastdb_auxiliary=optional_file/human_gl.aux

## internal default settings for mouse
# blastdb_segments_V=database/mouse_V-segment_NCBIm38
# blastdb_segments_D=database/mouse_D-segment_NCBIm38
# blastdb_segments_J=database/mouse_J-segment_NCBIm38
# blastdb_segments_C=database/mouse_C-segment_NCBIm38
# blastdb_auxiliary=optional_file/mouse_NCBIm38.aux
